<Page x:Class="ERPApp.Views.Pages.LoginPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Login">

    <Grid>
        <Border Width="400"
                Padding="30"
                Background="White"
                CornerRadius="8"
                VerticalAlignment="Center"
                HorizontalAlignment="Center">

            <StackPanel>

                <TextBlock Text="Login"
                           FontSize="24"
                           FontWeight="Bold"
                           HorizontalAlignment="Center"
                           Margin="0,0,0,20"/>

                <!-- Username / Email -->
                <Grid Margin="0,0,0,10">
                    <TextBox Height="35"
                             Text="{Binding UserNameOrEmail, UpdateSourceTrigger=PropertyChanged}"/>

                    <TextBlock Text="Username or Email"
                               Foreground="Gray"
                               Margin="8,0,0,0"
                               VerticalAlignment="Center"
                               IsHitTestVisible="False">
                        <TextBlock.Style>
                            <Style TargetType="TextBlock">
                                <Setter Property="Visibility" Value="Collapsed"/>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding UserNameOrEmail}" Value="">
                                        <Setter Property="Visibility" Value="Visible"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>
                </Grid>

                <!-- Password -->
                <PasswordBox Height="35"
                             Margin="0,0,0,10"
                             PasswordChanged="PasswordBox_PasswordChanged"/>

                <!-- Error -->
                <TextBlock Text="{Binding ErrorMessage}"
                           Foreground="Red"
                           Margin="0,5,0,10"
                           TextWrapping="Wrap"/>

                <Button Content="Login"
                        Height="40"
                        Command="{Binding LoginCommand}"/>
                <Button Content="Register" Command="{Binding NavigateToRegisterCommand}" Margin="0,10"/>


            </StackPanel>
        </Border>
    </Grid>
</Page>
